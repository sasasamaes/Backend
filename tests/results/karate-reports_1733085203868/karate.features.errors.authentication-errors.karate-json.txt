{"failedCount":3,"prefixedPath":"karate\/features\/errors\/authentication-errors.feature","packageQualifiedName":"karate.features.errors.authentication-errors","loopIndex":-1,"relativePath":"karate\/features\/errors\/authentication-errors.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":45583,"millis":0.045583,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":30583,"millis":0.030583,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"headers headers"}},{"result":{"nanos":1436667,"millis":1.436667,"status":"passed"},"step":{"line":9,"prefix":"*","index":0,"text":"def query = read('queries\/test-missing-auth.graphql')"}},{"result":{"nanos":414084,"millis":0.414084,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"request { query: '#(query)' }"}},{"result":{"nanos":30239375,"errorMessage":"http call failed after 29 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:11","millis":30.239375,"status":"failed"},"step":{"line":11,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:29:59.177 request:\n1 > POST http:\/\/localhost:9695\/v1\/graphql\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-Hasura-Admin-Secret: \n1 > Content-Length: 92\n1 > Host: localhost:9695\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.16)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query testMissingAuth {\\n  currentUser {\\n    id\\n    email\\n    roles\\n  }\\n}\\n\"}\n\n20:29:59.204 org.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused), http call failed after 29 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\n20:29:59.205 karate\/features\/errors\/authentication-errors.feature:11\nWhen method POST\nhttp call failed after 29 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:11\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"And","index":4,"text":"match response.errors[0].message contains 'authentication required'"}}],"line":8,"description":"","durationMillis":32.166292,"failed":true,"error":"http call failed after 29 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:11","executorName":"main","name":"Missing Authentication Test","startTime":1733084999162,"refId":"[1:8]","endTime":1733084999205,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":38750,"millis":0.03875,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":35792,"millis":0.035792,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"headers headers"}},{"result":{"nanos":6303917,"millis":6.303917,"status":"passed"},"step":{"line":16,"prefix":"*","index":0,"text":"def query = read('queries\/test-invalid-user.graphql')"}},{"result":{"nanos":352750,"millis":0.35275,"status":"passed"},"step":{"line":17,"prefix":"Given","index":1,"text":"request { query: '#(query)', variables: { userId: 'invalid-id' } }"}},{"result":{"nanos":30129375,"errorMessage":"http call failed after 5 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:18","millis":30.129375,"status":"failed"},"step":{"line":18,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:29:59.222 request:\n1 > POST http:\/\/localhost:9695\/v1\/graphql\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-Hasura-Admin-Secret: \n1 > Content-Length: 190\n1 > Host: localhost:9695\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.16)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query testInvalidUser($userId: ID!) {\\n  user(id: $userId) {\\n    id\\n    email\\n    profile {\\n      firstName\\n      lastName\\n    }\\n  }\\n}\",\"variables\":{\"userId\":\"invalid-id\"}}\n\n20:29:59.225 org.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused), http call failed after 5 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\n20:29:59.254 karate\/features\/errors\/authentication-errors.feature:18\nWhen method POST\nhttp call failed after 5 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:18\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":4,"text":"match response.errors[0].message contains 'user not found'"}}],"line":15,"description":"","durationMillis":36.860584,"failed":true,"error":"http call failed after 5 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:18","executorName":"main","name":"Invalid User ID Test","startTime":1733084999210,"refId":"[2:15]","endTime":1733084999254,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":33792,"millis":0.033792,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":30917,"millis":0.030917,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"headers headers"}},{"result":{"nanos":6009416,"millis":6.009416,"status":"passed"},"step":{"line":23,"prefix":"*","index":0,"text":"def query = read('queries\/test-unauthorized-access.graphql')"}},{"result":{"nanos":126917,"millis":0.126917,"status":"passed"},"step":{"line":24,"prefix":"Given","index":1,"text":"request { query: '#(query)', variables: { resourceId: 'restricted-resource' } }"}},{"result":{"nanos":4076917,"errorMessage":"http call failed after 3 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:25","millis":4.076917,"status":"failed"},"step":{"line":25,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:29:59.267 request:\n1 > POST http:\/\/localhost:9695\/v1\/graphql\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-Hasura-Admin-Secret: \n1 > Content-Length: 212\n1 > Host: localhost:9695\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.16)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query testUnauthorizedAccess($resourceId: ID!) {\\n  restrictedResource(id: $resourceId) {\\n    id\\n    name\\n    sensitiveData\\n    accessLevel\\n  }\\n}\",\"variables\":{\"resourceId\":\"restricted-resource\"}}\n\n20:29:59.269 org.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused), http call failed after 3 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\n20:29:59.270 karate\/features\/errors\/authentication-errors.feature:25\nWhen method POST\nhttp call failed after 3 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:25\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":4,"text":"match response.errors[0].message contains 'unauthorized'"}}],"line":22,"description":"","durationMillis":10.277959,"failed":true,"error":"http call failed after 3 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:25","executorName":"main","name":"Unauthorized Access Test","startTime":1733084999258,"refId":"[3:22]","endTime":1733084999270,"exampleIndex":-1}],"callDepth":0,"name":"Authentication Error Tests","description":"Test authentication error scenarios","resultDate":"2024-12-01 08:29:59 PM","durationMillis":79.304835,"passedCount":0}