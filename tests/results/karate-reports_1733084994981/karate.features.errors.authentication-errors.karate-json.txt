{"failedCount":3,"prefixedPath":"karate\/features\/errors\/authentication-errors.feature","packageQualifiedName":"karate.features.errors.authentication-errors","loopIndex":-1,"relativePath":"karate\/features\/errors\/authentication-errors.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":18625,"millis":0.018625,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"headers headers"}},{"result":{"nanos":836375,"millis":0.836375,"status":"passed"},"step":{"line":9,"prefix":"*","index":0,"text":"def query = read('queries\/test-missing-auth.graphql')"}},{"result":{"nanos":258417,"millis":0.258417,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"request { query: '#(query)' }"}},{"result":{"nanos":2343042,"errorMessage":"http call failed after 2 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:11","millis":2.343042,"status":"failed"},"step":{"line":11,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:27:08.951 request:\n1 > POST http:\/\/localhost:9695\/v1\/graphql\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-Hasura-Admin-Secret: \n1 > Content-Length: 92\n1 > Host: localhost:9695\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.16)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query testMissingAuth {\\n  currentUser {\\n    id\\n    email\\n    roles\\n  }\\n}\\n\"}\n\n20:27:08.952 org.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused), http call failed after 2 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\n20:27:08.952 karate\/features\/errors\/authentication-errors.feature:11\nWhen method POST\nhttp call failed after 2 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:11\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"And","index":4,"text":"match response.errors[0].message contains 'authentication required'"}}],"line":8,"description":"","durationMillis":3.481959,"failed":true,"error":"http call failed after 2 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:11","executorName":"main","name":"Missing Authentication Test","startTime":1733084828946,"refId":"[1:8]","endTime":1733084828953,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":29292,"millis":0.029292,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":20083,"millis":0.020083,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"headers headers"}},{"result":{"nanos":1218250,"millis":1.21825,"status":"passed"},"step":{"line":16,"prefix":"*","index":0,"text":"def query = read('queries\/test-invalid-user.graphql')"}},{"result":{"nanos":98833,"millis":0.098833,"status":"passed"},"step":{"line":17,"prefix":"Given","index":1,"text":"request { query: '#(query)', variables: { userId: 'invalid-id' } }"}},{"result":{"nanos":1569042,"errorMessage":"http call failed after 1 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:18","millis":1.569042,"status":"failed"},"step":{"line":18,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:27:08.957 request:\n1 > POST http:\/\/localhost:9695\/v1\/graphql\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-Hasura-Admin-Secret: \n1 > Content-Length: 190\n1 > Host: localhost:9695\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.16)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query testInvalidUser($userId: ID!) {\\n  user(id: $userId) {\\n    id\\n    email\\n    profile {\\n      firstName\\n      lastName\\n    }\\n  }\\n}\",\"variables\":{\"userId\":\"invalid-id\"}}\n\n20:27:08.957 org.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused), http call failed after 1 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\n20:27:08.957 karate\/features\/errors\/authentication-errors.feature:18\nWhen method POST\nhttp call failed after 1 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:18\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":4,"text":"match response.errors[0].message contains 'user not found'"}}],"line":15,"description":"","durationMillis":2.9355,"failed":true,"error":"http call failed after 1 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:18","executorName":"main","name":"Invalid User ID Test","startTime":1733084828954,"refId":"[2:15]","endTime":1733084828957,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":24542,"millis":0.024542,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":19083,"millis":0.019083,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"headers headers"}},{"result":{"nanos":1107667,"millis":1.107667,"status":"passed"},"step":{"line":23,"prefix":"*","index":0,"text":"def query = read('queries\/test-unauthorized-access.graphql')"}},{"result":{"nanos":103625,"millis":0.103625,"status":"passed"},"step":{"line":24,"prefix":"Given","index":1,"text":"request { query: '#(query)', variables: { resourceId: 'restricted-resource' } }"}},{"result":{"nanos":5735291,"errorMessage":"http call failed after 4 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:25","millis":5.735291,"status":"failed"},"step":{"line":25,"prefix":"When","index":2,"text":"method POST"},"stepLog":"20:27:08.962 request:\n1 > POST http:\/\/localhost:9695\/v1\/graphql\n1 > Content-Type: application\/json; charset=UTF-8\n1 > X-Hasura-Admin-Secret: \n1 > Content-Length: 212\n1 > Host: localhost:9695\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.16)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query testUnauthorizedAccess($resourceId: ID!) {\\n  restrictedResource(id: $resourceId) {\\n    id\\n    name\\n    sensitiveData\\n    accessLevel\\n  }\\n}\",\"variables\":{\"resourceId\":\"restricted-resource\"}}\n\n20:27:08.966 org.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused), http call failed after 4 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\n20:27:08.967 karate\/features\/errors\/authentication-errors.feature:25\nWhen method POST\nhttp call failed after 4 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:25\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":4,"text":"match response.errors[0].message contains 'unauthorized'"}}],"line":22,"description":"","durationMillis":6.990208,"failed":true,"error":"http call failed after 4 milliseconds for url: http:\/\/localhost:9695\/v1\/graphql\norg.apache.http.conn.HttpHostConnectException: Connect to localhost:9695 [localhost\/127.0.0.1, localhost\/0:0:0:0:0:0:0:1] failed: Connection refused (Connection refused)\nkarate\/features\/errors\/authentication-errors.feature:25","executorName":"main","name":"Unauthorized Access Test","startTime":1733084828959,"refId":"[3:22]","endTime":1733084828967,"exampleIndex":-1}],"callDepth":0,"name":"Authentication Error Tests","description":"Test authentication error scenarios","resultDate":"2024-12-01 08:27:08 PM","durationMillis":13.407667,"passedCount":0}